<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Schedule details</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="onCancelScheduleDetailModal()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid class="ion-text-center ion-no-margin ion-no-padding">
    <ion-row class="">
      <ion-col size="12" size-sm="8" offset-sm="2" class="ion-no-margin ion-no-padding">
        <ion-list class="ion-no-margin ion-no-padding">
          <ion-item class="ion-no-margin ion-no-padding">
            <ion-label class="ion-text-center ion-no-margin ion-no-padding">
              <h1>{{loadedSchedule.title}}
              </h1>
              <ion-label>
                <h3>Remain Time: {{countDownTimer}} m : {{countDownSeconds}} s </h3>
              </ion-label>
            </ion-label>

          </ion-item>

          <ion-item class="ion-no-margin ion-no-padding">
            <ion-label class="ion-text-center ion-no-margin ion-padding ion-justify-content-between"
              style="display: flex;">
              <p>
                <ion-icon slot="start" name="time-outline" class="ion-margin-end"></ion-icon> Start:
              </p>
              <p>{{loadedSchedule.start.seconds*1000 |date:
                "MMM, dd, YYYY HH:mm"}}</p>
            </ion-label>
          </ion-item>

          <ion-item class="ion-no-margin ion-no-padding">
            <ion-label class="ion-text-center ion-no-margin ion-padding ion-justify-content-between"
              style="display: flex;">
              <p>
                <ion-icon slot="start" name="time-outline" class="ion-margin-end"></ion-icon> End:
              </p>
              <p>{{loadedSchedule.end.seconds*1000 |date:
                "MMM, dd, YYYY HH:mm"}}</p>
            </ion-label>
          </ion-item>
          <ion-item class="ion-no-margin ion-no-padding">
            <ion-label class="ion-text-center ion-no-margin ion-padding ion-justify-content-between"
              style="display: flex;">
              <p>
                <ion-icon slot="start" name="time-outline" class="ion-margin-end"></ion-icon> Duration:
              </p>
              <p>{{loadedSchedule.duration}} minutes</p>
            </ion-label>
          </ion-item>
          <ion-item class="ion-no-margin ion-no-padding">
            <ion-label class="ion-text-center ion-no-margin ion-padding ion-justify-content-between"
              style="display: flex;">
              <p>
                <ion-icon slot="start" name="location-outline" class="ion-margin-end"></ion-icon> Address:
              </p>
              <p>{{loadedSchedule.address}}</p>
            </ion-label>
          </ion-item>
          <ion-item class="ion-no-margin ion-no-padding">
            <ion-label class="ion-text-center ion-no-margin ion-padding ion-justify-content-between"
              style="display: flex;">
              <p>
                <ion-icon slot="start" name="layers-outline" class="ion-margin-end"></ion-icon> Treatment Type:
              </p>
              <p>{{customerTreatment.treatmentType}}</p>
            </ion-label>
          </ion-item>
          <ion-item class="ion-no-margin ion-no-padding">
            <ion-label class="ion-text-center ion-no-margin ion-padding ion-justify-content-between"
              style="display: flex;">
              <p>
                <ion-icon name="ban-outline" slot="start" class="ion-margin-end"></ion-icon>
                Pills Name:
              </p>
              <p>{{customerTreatment.name}}</p>
            </ion-label>
          </ion-item>
          <ion-item class="ion-no-margin ion-no-padding">
            <ion-label class="ion-text-center ion-no-margin ion-padding ion-justify-content-between"
              style="display: flex;">
              <p>
                <ion-icon name="pint-outline" class="ion-margin-end"></ion-icon> Dose:
              </p>
              <p>{{customerTreatment.doses}}</p>
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="isStartTime()">
      <ion-col size="12" size-sm="8" offset-sm="2" class="ion-margin-top">
        <ion-button color="primary" (click)="onStartTreatment($event)" #startBtn [disabled]="disableStartBtn==true">
          {{loadedSchedule.status==='in pool'?'Start Treatment': loadedSchedule.status}}
        </ion-button>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="showDoneBtn">
      <ion-col size="12" size-sm="8" offset-sm="2" class="ion-margin-top">
        <ion-button color="primary" (click)="onTreatmentDone()" [disabled]="">Done
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>